FROM restreamio/gstreamer:dev-dependencies

ARG GSTREAMER_REPOSITORY=https://gitlab.freedesktop.org/philn/gstreamer.git

# 1.20-studio-rebase-220504 branch
ARG GSTREAMER_CHECKOUT=64f78d1d561cc25d571a411c64ada98c1cb8aa2b

ARG GSTREAMER_CEF_REPOSITORY=https://github.com/centricular/gstcefsrc
ARG GSTREAMER_CEF_CHECKOUT=8d499495dd79cc0bf9a38ae82b03e374d78f68ae

COPY docker/sccache.toml /sccache.toml

COPY docker/build-gstreamer/download /download

RUN ["/download"]

COPY docker/build-gstreamer/compile /compile
